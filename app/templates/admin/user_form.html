{% extends "base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-bold mb-4">{{ 'Edit' if form.id.data else 'Create' }} User</h2>
    <form hx-post="{{ url_for('admin_user.create_or_edit', id=form.id.data) }}"
          hx-target="#users"
          hx-swap="innerHTML"
          class="space-y-4">
        {{ form.hidden_tag() }}
        <div>
            {{ form.username.label(class_="block text-gray-700 font-bold mb-2") }}
            {{ form.username(size=32, class_="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline") }}
            {% for error in form.username.errors %}
                <span class="text-red-500 text-sm">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.email.label(class_="block text-gray-700 font-bold mb-2") }}
            {{ form.email(size=32, class_="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline") }}
            {% for error in form.email.errors %}
                <span class="text-red-500 text-sm">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.password.label(class_="block text-gray-700 font-bold mb-2") }}
            {{ form.password(size=32, class_="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline") }}
            {% for error in form.password.errors %}
                <span class="text-red-500 text-sm">{{ error }}</span>
            {% endfor %}
        </div>
        <div>
            {{ form.is_admin.label(class_="block text-gray-700 font-bold mb-2") }}
            {{ form.is_admin(class_="mt-1") }}
        </div>
        <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
            {% if form.id.data %}Update{% else %}Create{% endif %}
        </button>
    </form>
    <a href="{{ url_for('admin_user.index') }}" class="text-blue-500 hover:underline">Back to Users</a>
</div>
{% endblock %}
