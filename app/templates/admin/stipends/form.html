{% extends "base.html" %}

{% block content %}
<h2>{% if form.name.data %}Edit{% else %}Create{% endif %} Stipend</h2>

{% if form.errors %}
    <div class="alert alert-danger">
        <ul>
            {% for field, errors in form.errors.items() %}
                {% for error in errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            {% endfor %}
        </ul>
    </div>
{% endif %}

<form method="post" action="">
    {{ form.hidden_tag() }}
    
    <div class="form-group">
        {{ form.name.label }}
        {{ form.name(class="form-control") }}
        {% for error in form.name.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        {{ form.summary.label }}
        {{ form.summary(class="form-control", rows="3") }}
        {% for error in form.summary.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        {{ form.description.label }}
        {{ form.description(class="form-control", rows="5") }}
        {% for error in form.description.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        {{ form.homepage_url.label }}
        {{ form.homepage_url(class="form-control") }}
        {% for error in form.homepage_url.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        {{ form.application_procedure.label }}
        {{ form.application_procedure(class="form-control", rows="3") }}
        {% for error in form.application_procedure.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        {{ form.eligibility_criteria.label }}
        {{ form.eligibility_criteria(class="form-control", rows="3") }}
        {% for error in form.eligibility_criteria.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group">
        {{ form.application_deadline.label }}
        {{ form.application_deadline(class="form-control") }}
        {% for error in form.application_deadline.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="form-group form-check">
        {{ form.open_for_applications() }}
        {{ form.open_for_applications.label(class="form-check-label") }}
        {% for error in form.open_for_applications.errors %}
            <div class="text-danger">{{ error }}</div>
        {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary">{{ form.submit.label.text }}</button>
</form>

<a href="{{ url_for('admin.stipend.index') }}">Back to Stipends</a>
{% endblock %}
