# Console Commands for Step 2 (Coding)
# Do not use echo
# Only edit the section between CODE START and CODE END - always run scripts using python, e.g. /run python scripts/myscript.py

### CODE START ###

# Initialize test environment
/run python scripts/install_test_dependencies.py

# Configure fresh database
/run alembic init migrations
/run del instance\\stipend.db
/run alembic upgrade head

# Verify schema
/run python scripts/verification/verify_db_schema.py --full-check

# Run critical tests
/run python -m pytest tests/test_user_model.py -k test_confirmed_at_column -v

### CODE END ###

# Console commands done, we go on to 05_STEP_3.txt
/load automation/05_STEP_3.txt
