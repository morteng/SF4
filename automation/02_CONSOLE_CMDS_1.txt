# Console Commands for Step 1 (Analyzing)
# Do not use echo
# Only edit the section of this document between CODE START and CODE END

### CODE START ###

# Force clean migration state
/run del instance\\stipend.db
/run alembic upgrade head --sql > full_migration.sql
/run sqlite3 instance/stipend.db < full_migration.sql

# Verify schema explicitly
/run python scripts/verification/verify_db_schema.py --check-columns user.confirmed_at stipend.tags

# Final verification workflow
/run flask routes | findstr "admin_stipend"  # Verify routes exist
/run python scripts/verification/verify_production_ready.py --full
/run python scripts/verification/verify_test_coverage.py --threshold=35  # Temporary lower threshold

### CODE END ###

# Console commands done, we go on to 03_STEP_2.txt
/load automation/03_STEP_2.txt
