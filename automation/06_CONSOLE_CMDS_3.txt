# Console Commands for Step 3 (Testing)
# Only edit the section between CODE START and CODE END

### CODE START ###
# Initialize core systems with enhanced path configuration
/run scripts/path_config.py
/run scripts/init_logging.py --test

# Setup test environment with proper application context
/run scripts/setup_test_env.py --clean --with-context --test-db --validate

# Install test dependencies with verification
/run scripts/install_test_dependencies.py --test --verify

# Initialize test database with schema validation
/run scripts/startup/init_db.py --validate-schema --test --check-migrations

# Fix security permissions with strict mode
/run scripts/security/fix_security_permissions.py --strict --verify

# Run core test suites with coverage
/run scripts/testing/run_tests.py --unit --integration --security --coverage

# Generate coverage reports with verification
/run scripts/generate_coverage_report.py --html --xml --verify

# Verify test coverage meets requirements
/run scripts/verification/verify_test_coverage.py --min-coverage=80 --critical-paths

# Verify database connection with retries
/run scripts/verification/verify_db_connection.py --retry=5 --timeout=15 --validate

# Verify backup system integrity
/run scripts/verification/verify_backup.py --verify-size --check-schema --verify-tables

# Verify logging configuration
/run scripts/verification/verify_logs.py --check-rotation --verify-archives

# Verify monitoring configuration
/run scripts/verification/verify_monitoring.py --check-vars --verify-files

# Initialize admin user with enhanced validation
/run scripts/startup/init_admin.py --verify-email --check-password --validate-complexity

# Verify security settings
/run scripts/verification/verify_security.py --check-env --validate-keys --verify-permissions

# Commit test results with verification summary
/run scripts/commit_changes.py --message "Testing cycle completed with coverage verification"

### CODE END ###

# Console commands done, we go on to 07_STEP_4.txt
/load automation/07_STEP_4.txt
