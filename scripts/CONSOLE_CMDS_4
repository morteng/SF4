# Console Commands for Step 4
# Do not use echo commands
# Only edit the section of this document between CODE START and CODE END

### CODE START ###
# Verify database connection
/run python -c "from scripts.version import validate_db_connection; print(validate_db_connection('instance/app.db'))"

# Check current version
/run python -c "from scripts.version import get_version; print(f'Current version: {get_version()}')"

# Run database migrations
/run flask db upgrade

# Verify database state
/run flask db current

# Run critical tests
/run pytest tests/app/test_version.py --cov=app --cov-report=term-missing

# Check Flask routes
/run flask routes

# Verify bot service status
/run flask shell -c "from app.services.bot_service import get_all_bots; print(get_all_bots())"
### CODE END ###

# Print the current datetime to console
/run scripts/print_datetime.py
/run Write-Host "Code Cycle Step 4 Ends"

# After running any console commands, go to STEP_5
/load scripts/STEP_5
